!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("loadClientHomepage",[],n):"object"==typeof exports?exports.loadClientHomepage=n():e.loadClientHomepage=n()}(this,(()=>(()=>{const e=localStorage.getItem("authToken");e?fetch("https://xrux-avyn-v7a8.n7d.xano.io/api:4o1s7k_j/clients_homepage",{method:"GET",headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{const n=document.querySelector(".nav-clients.no-clients"),t=document.querySelector(".nav-clients.existing");if(null===e.geojson_map&&Array.isArray(e.homepage_clients)&&0===e.homepage_clients.length)n.style.display="flex",t.style.display="none";else{n.style.display="none",t.style.display="flex",loadClientMap(JSON.parse(e.geojson_map.map));const o=e.homepage_clients[0],l=document.querySelector(".client-nav__name"),i=document.querySelector(".client-nav__image");document.querySelector(".clients-number").textContent=e.homepage_clients.length;const c=document.querySelector(".client-link.active .client-nav__image"),a=document.querySelector(".client-link.active .client-link__info"),s=document.querySelector(".client-link.active .client-link__company");l.textContent=o.full_name,i.src=o.image.url,c.src=o.image.url,a.innerHTML=`${o.full_name}<br>`,s.textContent=o.company_name,t.classList.remove("hidden");const r=document.querySelector(".clients-wrapper");r.innerHTML="",e.homepage_clients.slice(1).forEach((e=>{const n=document.createElement("div");n.classList.add("client-link","not-selected"),n.setAttribute("client-id",e.id),n.innerHTML=`\n  ${e.image?`<img src="${e.image.url}" loading="lazy" alt="" class="client-nav__image">`:`<div class="client-avatar" style="background-color: ${colorRandomizer()} ;">${e.full_name.charAt(0).toUpperCase()}</div>`}\n  <p class="client-link__info">\n    ${e.full_name}<br>\n    <span class="client-link__company inactive">${e.company_name}</span>\n  </p>\n`,r.appendChild(n)}))}})).catch((e=>{console.error("Error fetching data:",e)})):console.error("authToken not found in local storage");const n=document.querySelector(".clients-dropdown"),t=document.querySelector(".close-clients"),o=document.querySelector(".overlay");let l=!1;function i(e){if(e.stopPropagation(),l)return;const n=document.querySelector(".clients-dropdown__menu");l=!0,n.classList.toggle("open"),n.classList.contains("open")?(o.style.display="block",o.style.transition="opacity 200ms ease",setTimeout((()=>{o.style.opacity="0.5"}),10),o.addEventListener("transitionend",(()=>{l=!1}),{once:!0})):(o.style.transition="opacity 500ms ease",o.style.opacity="0",o.addEventListener("transitionend",(()=>{o.style.display="none",l=!1}),{once:!0}))}return n.addEventListener("click",(e=>i(e))),t.addEventListener("click",(e=>i(e))),o.addEventListener("click",(e=>i(e))),{}})()));